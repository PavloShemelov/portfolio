{"ast":null,"code":"import{useEffect}from'react';import{useLocalStorage}from\"./../../utils/useLocalStorage\";import detectDarkMode from'../../utils/detectDarkMode';import sun from'./sun.svg';import moon from'./moon.svg';import'./style.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const BtnDarkMode=()=>{const[darkMode,setDarkMode]=useLocalStorage('darkMode',detectDarkMode());useEffect(()=>{if(darkMode==='dark'){document.body.classList.add('dark');}else{document.body.classList.remove('dark');}},[darkMode]);useEffect(()=>{window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change',event=>{const newColorScheme=event.matches?'dark':'light';setDarkMode(newColorScheme);});},[setDarkMode]);const toggleDarkMode=()=>{setDarkMode(currentValue=>{return currentValue==='light'?'dark':'light';});};const btnNormal='dark-mode-btn';const btnActive='dark-mode-btn dark-mode-btn--active';return/*#__PURE__*/_jsxs(\"button\",{className:darkMode==='dark'?btnActive:btnNormal,onClick:toggleDarkMode,children:[/*#__PURE__*/_jsx(\"img\",{src:sun,alt:\"Light mode\",className:\"dark-mode-btn__icon\"}),/*#__PURE__*/_jsx(\"img\",{src:moon,alt:\"Dark mode\",className:\"dark-mode-btn__icon\"})]});};export default BtnDarkMode;","map":{"version":3,"names":["useEffect","useLocalStorage","detectDarkMode","sun","moon","jsx","_jsx","jsxs","_jsxs","BtnDarkMode","darkMode","setDarkMode","document","body","classList","add","remove","window","matchMedia","addEventListener","event","newColorScheme","matches","toggleDarkMode","currentValue","btnNormal","btnActive","className","onClick","children","src","alt"],"sources":["C:/Users/pavel/OneDrive/Документы/GitHub/freelance-portfolio-react/src/components/btnDarkMode/BtnDarkMode.js"],"sourcesContent":["import { useEffect } from 'react';\r\nimport {useLocalStorage} from \"./../../utils/useLocalStorage\"\r\nimport detectDarkMode from '../../utils/detectDarkMode';\r\n\r\nimport sun from './sun.svg';\r\nimport moon from './moon.svg';\r\nimport './style.css';\r\n\r\nconst BtnDarkMode = () => {\r\n    const [darkMode, setDarkMode] = useLocalStorage('darkMode', detectDarkMode());\r\n\r\n    useEffect(() => {\r\n        if (darkMode === 'dark') {\r\n\t\t\tdocument.body.classList.add('dark');\r\n\t\t} else {\r\n\t\t\tdocument.body.classList.remove('dark');\r\n\t\t}\r\n\t}, [darkMode]);\r\n\r\n    useEffect(() => {\r\n\t\twindow\r\n\t\t\t.matchMedia('(prefers-color-scheme: dark)')\r\n\t\t\t.addEventListener('change', (event) => {\r\n\t\t\t\tconst newColorScheme = event.matches ? 'dark' : 'light';\r\n\t\t\t\tsetDarkMode(newColorScheme);\r\n\t\t\t});\r\n\t}, [setDarkMode]);\r\n\r\n\tconst toggleDarkMode = () => {\r\n\t\tsetDarkMode((currentValue) => {\r\n\t\t\treturn currentValue === 'light' ? 'dark' : 'light';\r\n\t\t});\r\n\t};\r\n\r\n    const btnNormal = 'dark-mode-btn';\r\n    const btnActive = 'dark-mode-btn dark-mode-btn--active';\r\n\r\n\treturn (\r\n\t\t<button className={darkMode === 'dark' ? btnActive : btnNormal} onClick={toggleDarkMode}>\r\n\t\t\t<img src={sun} alt=\"Light mode\" className=\"dark-mode-btn__icon\" />\r\n\t\t\t<img src={moon} alt=\"Dark mode\" className=\"dark-mode-btn__icon\" />\r\n\t\t</button>\r\n\t);\r\n};\r\n\r\nexport default BtnDarkMode;\r\n"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAAQC,eAAe,KAAO,+BAA+B,CAC7D,MAAO,CAAAC,cAAc,KAAM,4BAA4B,CAEvD,MAAO,CAAAC,GAAG,KAAM,WAAW,CAC3B,MAAO,CAAAC,IAAI,KAAM,YAAY,CAC7B,MAAO,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAErB,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGV,eAAe,CAAC,UAAU,CAAEC,cAAc,CAAC,CAAC,CAAC,CAE7EF,SAAS,CAAC,IAAM,CACZ,GAAIU,QAAQ,GAAK,MAAM,CAAE,CAC9BE,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACC,GAAG,CAAC,MAAM,CAAC,CACpC,CAAC,IAAM,CACNH,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACE,MAAM,CAAC,MAAM,CAAC,CACvC,CACD,CAAC,CAAE,CAACN,QAAQ,CAAC,CAAC,CAEXV,SAAS,CAAC,IAAM,CAClBiB,MAAM,CACJC,UAAU,CAAC,8BAA8B,CAAC,CAC1CC,gBAAgB,CAAC,QAAQ,CAAGC,KAAK,EAAK,CACtC,KAAM,CAAAC,cAAc,CAAGD,KAAK,CAACE,OAAO,CAAG,MAAM,CAAG,OAAO,CACvDX,WAAW,CAACU,cAAc,CAAC,CAC5B,CAAC,CAAC,CACJ,CAAC,CAAE,CAACV,WAAW,CAAC,CAAC,CAEjB,KAAM,CAAAY,cAAc,CAAGA,CAAA,GAAM,CAC5BZ,WAAW,CAAEa,YAAY,EAAK,CAC7B,MAAO,CAAAA,YAAY,GAAK,OAAO,CAAG,MAAM,CAAG,OAAO,CACnD,CAAC,CAAC,CACH,CAAC,CAEE,KAAM,CAAAC,SAAS,CAAG,eAAe,CACjC,KAAM,CAAAC,SAAS,CAAG,qCAAqC,CAE1D,mBACClB,KAAA,WAAQmB,SAAS,CAAEjB,QAAQ,GAAK,MAAM,CAAGgB,SAAS,CAAGD,SAAU,CAACG,OAAO,CAAEL,cAAe,CAAAM,QAAA,eACvFvB,IAAA,QAAKwB,GAAG,CAAE3B,GAAI,CAAC4B,GAAG,CAAC,YAAY,CAACJ,SAAS,CAAC,qBAAqB,CAAE,CAAC,cAClErB,IAAA,QAAKwB,GAAG,CAAE1B,IAAK,CAAC2B,GAAG,CAAC,WAAW,CAACJ,SAAS,CAAC,qBAAqB,CAAE,CAAC,EAC3D,CAAC,CAEX,CAAC,CAED,cAAe,CAAAlB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}